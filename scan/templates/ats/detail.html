{% extends 'base.html' %}

{% load humanize %}
{% load burst_tags %}

{% block title %} - AT #{{ at.id }}{% endblock %}

{% block description %}
{{ at.name }}
{{ at.description }}
{% endblock %}

{% block content %}

  <h5 class="p-2">Contract Details</h5>

  <div class="card-deck mb-3">
    <div class="card mb-4 shadow-sm">
      <div class="card-body">

          <div class="table-responsive">
            <table class="table small table-sm">
              <tbody>
              <tr>
                <th style="width: 160px;">ID</th>
                <th>
                  {{ at.id }}
                  <a class="btn btn-sm btn-icon btn-soft-secondary rounded-circle copy-btn px-1" href="#" data-clipboard-text="{{ at.id }}"><i class="far fa-copy"></i></a>
                </th>
              </tr>
              <tr>
                <th>Name</th>
                <td style="word-wrap: break-word; max-width: 250px">{{ at.name }}</td>
              </tr>
              <tr>
                <th>Description</th>
                <td style="word-wrap: break-word; max-width: 250px">{{ at.description }}</td>
              </tr>
              <tr>
                <th>Creator</th>
                <td>
                  {% include "account_link.html" with account_id=at.creator_id account_name=at.creator_name oneline=True %}
                </td>
              </tr>
              <tr>
                <th style="min-width: 160px;">Block</th>
                <td><a href="{% url 'block-detail' at.height %}">{{ at.height }}</a></td>
              </tr>
              <tr>
                <th>Creation Block</th>
                <td>
                  <a href="{% url 'block-detail' at.creation_height %}">{{ at.creation_height }}</a></td>
              </tr>
              <tr>
                <th>Version</th>
                <td>{{ at.version }}</td>
              </tr>
              <tr>
                <th>CSize</th>
                <td>{{ at.csize }}</td>
              </tr>
              <tr>
                <th>DSize</th>
                <td>{{ at.dsize }}</td>
              </tr>
              <tr>
                <th>CUser Stack Bytes</th>
                <td>{{ at.c_user_stack_bytes }}</td>
              </tr>
              <tr>
                <th>CCall Stack Bytes</th>
                <td>{{ at.c_call_stack_bytes }}</td>
              </tr>
              <tr>
                <th>Bytecode</th>
                <td class="text-monospace">
                  <textarea id="ap_code" class="form-control" spellcheck="false" rows="5" disabled>{{ at.ap_code|bin2hex }}</textarea>
                  <label for="ap_code"></label>
                </td>
              </tr>
              </tbody>
            </table>
          </div>

        </div>
    </div>
  </div>

{% endblock %}
